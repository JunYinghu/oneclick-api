<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hu.oneclick.dao.TestCycleJoinTestCaseDao">

    <!--通过主键删除-->
    <delete id="bindCaseDelete">
        delete
        from test_cycle_join_test_case
        where test_case_id = #{testCaseId}
    </delete>
    <select id="queryBindCaseList" resultType="com.hu.oneclick.model.domain.TestCase">
        select t.id as id,
               t.title as title,
               t.executed_date as executedDate,
               t.author_name as authorName,
               t.case_category as caseCategory,
               t.last_run_status as lastRunStatus
        from test_cycle_join_test_case tc
                join test_case t on tc.test_case_id = t.id
                 join test_cycle c on tc.test_cycle_id = c.id
        where
            c.id = #{testCycleId}
    </select>

</mapper>